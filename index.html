<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Chat</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <button onclick="joinRoom('room','Jack')">Join as Jack</button>
    <button onclick="joinRoom('room','James')">Join as James</button>
    <button onclick="joinRoom('room','Sarah')">Join as Sarah</button>
    <button onclick="joinRoom('room','Micah')">Join as Micah</button>
    <button onclick="joinRoom('room','Nora')">Join as Nora</button>
    <button onclick="joinRoom('room','Bob')">Join as Bob</button>
    <button onclick="joinRoom('room','Kathy')">Join as Kathy</button>
    <button onclick="joinRoom('room','Mark')">Join as Mark</button>
    <button onclick="joinRoom('room','Miriam')">Join as Miriam</button>

    <div id="videos"></div>

    <div id="chat">
        <h1>Chat</h1>
        <hr>
        <div id="messages"></div>
        <input type="text" id="chatInput" placeholder="Type a message">
        <p id="mojis"></p>
    </div>

    <script src="vidChat.js" type="module"></script>
    <script>
        let emojis = [0x1F600, 0x1F604, 0x1F34A, 0x1F344, 0x1F37F, 0x1F363, 0x1F370, 0x1F355,
            0x1F354, 0x1F35F, 0x1F6C0, 0x1F48E, 0x1F5FA, 0x23F0, 0x1F579, 0x1F4DA,
            0x1F431, 0x1F42A, 0x1F439, 0x1F424]
        
        function handleMoji(emoji) {
            textBox = document.getElementById("chatInput")
            return function(){
                textBox.value = textBox.value + emoji
            }
        }

        function makeClickable(emojiCode, i) {
            emoji = String.fromCodePoint(emojiCode)
            window[`f_${i}`] = handleMoji(emoji)
            return `<a onclick="f_${i}()" style="cursor: pointer;">${emoji}</a>`
        }
        document.getElementById("mojis").innerHTML = emojis.map((x,i) => makeClickable(x,i)).join(' ')
    </script>
</body>

</html>